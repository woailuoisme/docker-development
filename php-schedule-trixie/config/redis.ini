; ============================================================================
; Redis (PhpRedis) 扩展配置 - 生产环境性能版
; ============================================================================

[redis]
; --- 连接池与持久连接优化 ---
; 是否开启连接池。在 RoadRunner 开发环境下，开启它可以减少频繁创建连接的开销。
; 默认 Off
redis.pconnect.pooling_enabled = 1

; 连接池内允许的最大连接数。-1 为不限制。
redis.pconnect.connection_limit = 20

; 开启存活性检查。在发送命令前检查连接是否由于网络或服务端超时而断开。
; 生产环境推荐开启，防止 "Connection lost" 报错。
redis.pconnect.echo_check_liveness = 1

; --- Session 锁配置 (仅当你使用 Redis 存储 Session 时) ---

; 是否开启 Session 锁，防止并发请求导致的数据竞争。
;redis.session.locking_enabled = 1
;redis.session.lock_expire = 20
; 尝试 50 次，每次 20ms，总计等待 1 秒
;redis.session.lock_retries = 50
;redis.session.lock_wait = 20000

; --- 集群与 Sentinel 配置 (按需开启) ---

; 集群读超时时间 (毫秒)
; redis.clusters.read_timeout = 2000

; ----------------------------------------------------------------------------
; 注意：
; 1. 序列化 (Serializer) 和 压缩 (Compression) 建议在 Laravel 应用层配置。
; 2. 这里的配置仅影响驱动底层行为，不影响 Redis 实例本身。
; ----------------------------------------------------------------------------

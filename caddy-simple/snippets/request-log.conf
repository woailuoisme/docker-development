# 访问日志配置 - 专门输出到文件供 GoAccess 解析
log file {
	output file /srv/logs/access.log {
		roll_size 100mb
		roll_keep 10
		roll_keep_for 90d
		roll_local_time
	}
	level INFO
	format json
}

log console {
	output stdout
	level INFO
	#	format transform "{common_log}"
	#	"{request>headers>Referer>[0]}"
	#	{request>remote_port}
	format transform `{ts} [{level}] "{request>remote_ip} {status} {duration} {request>proto} {request>method} {request>host}{request>uri} {size}" "{request>headers>User-Agent>[0]}" ` {
		#		time_format "2006-01-02 15:04:05 +0800"
		time_format "2006-01-02 15:04:05"
		time_local
		duration_format "string"
		level_format "upper"
	}
}

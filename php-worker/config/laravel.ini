; ============================================================================
; Laravel Octane/RoadRunner 生产环境 PHP 配置
; ============================================================================

; 设置默认时区
date.timezone = Asia/Shanghai

; 设置默认字符集
default_charset = "UTF-8"

; ============================================================================
; 错误处理（生产环境）
; ============================================================================

; 关闭错误显示（安全）
display_errors = Off
display_startup_errors = Off

; 开启错误日志记录
log_errors = On

; 错误日志输出到标准错误流（Docker 日志收集）
error_log = /proc/self/fd/2

; 错误报告级别（生产环境：只记录错误和警告）
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT

; ============================================================================
; 内存和执行时间配置（RoadRunner 优化）
; ============================================================================

; PHP 内存限制
memory_limit = 256M

; 上传文件大小限制
upload_max_filesize = 50M

; POST 数据大小限制
post_max_size = 60M

; 最大执行时间（秒）websocket 长连接无需超时
;max_execution_time=600
max_execution_time=300

; 默认 Socket 超时时间（秒）
default_socket_timeout=3600

; 请求终止超时时间
request_terminate_timeout = 600s


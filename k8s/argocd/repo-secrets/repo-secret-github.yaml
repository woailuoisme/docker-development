apiVersion: v1
kind: Secret
metadata:
  name: github-repo
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: repository
type: Opaque
stringData:
  type: git
  url: https://github.com/your-org/lunchbox.git
  username: git
  password: <your-github-token>
  # 或者使用 SSH Key
  # sshPrivateKey: |
  #   -----BEGIN OPENSSH PRIVATE KEY-----
  #   ...
  #   -----END OPENSSH PRIVATE KEY-----

---
# 使用说明：
# 1. 替换 <your-github-token> 为实际的 GitHub Personal Access Token (PAT)
# 2. 或者使用 SSH Key 方式（取消注释 sshPrivateKey 部分）
# 3. 应用到集群：kubectl apply -f repo-secret-github.yaml
#
# 生成 GitHub Token：
# 1. 登录 GitHub
# 2. 进入 Settings -> Developer settings -> Personal access tokens -> Tokens (classic)
# 3. Generate new token (classic)
# 4. 选择权限：repo (Full control of private repositories)
# 5. 复制生成的 token
#
# 或使用 Fine-grained tokens：
# 1. Settings -> Developer settings -> Personal access tokens -> Fine-grained tokens
# 2. Generate new token
# 3. Repository access: Only select repositories -> 选择 lunchbox
# 4. Permissions: Contents (Read-only)

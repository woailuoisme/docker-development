apiVersion: v1
kind: Secret
metadata:
  name: gitea-repo
  namespace: argocd
  labels:
    argocd.argoproj.io/secret-type: repository
type: Opaque
stringData:
  type: git
  url: https://gitea.example.com/your-org/lunchbox.git
  username: git
  password: <your-gitea-token>
  # 或者使用 SSH Key
  # sshPrivateKey: |
  #   -----BEGIN OPENSSH PRIVATE KEY-----
  #   ...
  #   -----END OPENSSH PRIVATE KEY-----

---
# 使用说明：
# 1. 替换 <your-gitea-token> 为实际的 Gitea Personal Access Token
# 2. 或者使用 SSH Key 方式（取消注释 sshPrivateKey 部分）
# 3. 应用到集群：kubectl apply -f repo-secret-gitea.yaml
#
# 生成 Gitea Token：
# 1. 登录 Gitea
# 2. 进入 Settings -> Applications -> Generate New Token
# 3. 选择权限：repo (Full control of private repositories)
# 4. 复制生成的 token
